<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>FGE &middot; How to build an R package</title>
  <meta name="description" content="Crowd-sourced notes on all things computational and quantitative in ecological research">

  <link rel="stylesheet" href="/fge/css/main.css">
  <link rel="canonical" href="http://bes-qsig.github.io/fge/docs/how_to_build_an_r_package/">
  <link rel="alternate" type="application/rss+xml" title="Field Guides for Ecologists" href="http://bes-qsig.github.io/fge/feed.xml" />
  <link rel="icon" type="image/x-icon" href="/fge/favicon.ico">
  <script type="text/javascript" src="js/jquery-2.1.0.min.js"></script>
  <script type="text/javascript" src="js/jquery.stellar.min.js"></script>
</head>


  <body>

    <header>
    <div class="site-header" data-stellar-background-ratio="0.1"
         style="background-image: url(/fge/img/cover.jpg)">
        <div class='site-title'>
            
    <h1>
        How to build an R package
    </h1>
    <b>Status</b>: first version<br>
    <b>Last edit</b>: Sun May 3, 015<br>
    <b>Author(s)</b>: Simon Dellicour (83.7%), Dominic Bennett (16.3%)<br>


        </div>
    </div>
</header>

<script>
    $.stellar({
        horizontalScrolling: false,
        responsive: true,
        positionProperty: 'transform'
    });
</script>

<div class="site-nav-bar">

    <nav class="site-nav">
        <a href="#" class="menu-icon">
            <svg viewBox="0 0 18 15">
                <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
        </a>

        <div class="trigger">
            
                <a class="page-link"
                   href="/fge/">
                    Home
                </a>
            
                <a class="page-link"
                   href="/fge/guides">
                    Index
                </a>
            
            <a class="page-link" href="https://github.com/BES-QSIG">
                GitHub
            </a>
        </div>
    </nav>

</div>


    <div class="page-content">
      <div class="wrapper">
          <section class="docs">
    <div class="grid">

      <div class="unit four-fifths">
        <div class="edit-message">
            <a href="https://github.com/BES-QSIG/docs/blob/master/how_to_build_an_r_package.md"><i class="fa fa-pencil"></i> &nbsp;Improve page</a>
        </div>
        <div class="doc-content">
          <p>Building a <code>R</code> package is quite easy but the writing of help files related to each function requires basic knowledges of Latex (although the language used to write R documentation files is a little bit different from the official Latex language).
This tutorial is a short version. For a more detailed tutorial, see this <a href="http://cran.r-project.org/doc/contrib/Leisch-CreatingPackages.pdf">pdf file</a>.</p>

<p>Building a <code>R</code> package can be performed in 4 steps:</p>

<h3 id="step-1">Step 1</h3>

<p>In R: load the different functions of the future package as follows:</p>
<div class="highlight"><pre><code class="language-R" data-lang="R"><span class="kn">source</span><span class="p">(</span><span class="s">&quot;function1.r&quot;</span><span class="p">)</span>
<span class="kn">source</span><span class="p">(</span><span class="s">&quot;function2.r&quot;</span><span class="p">)</span>
<span class="kn">source</span><span class="p">(</span><span class="s">&quot;function3.r&quot;</span><span class="p">)</span>
<span class="kc">...</span>
</code></pre></div>
<h3 id="step-2">Step 2</h3>

<p>Always in R, use the &quot;package.skeleton&quot; as follows:</p>
<div class="highlight"><pre><code class="language-R" data-lang="R">package.skeleton<span class="p">(</span>name<span class="o">=</span><span class="s">&quot;name_of_your_package&quot;</span><span class="p">,</span> <span class="kt">list</span><span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;function1&quot;</span><span class="p">,</span><span class="s">&quot;function2&quot;</span><span class="p">,</span><span class="s">&quot;function3&quot;</span><span class="p">,</span> <span class="kc">...</span><span class="p">))</span>
</code></pre></div>
<p>This will generate a new folder in your working directory. This folder somehow corresponds to the first version of your package but it still has to be packed into an archive file.
Before this step, the documentation file of the package (the &quot;DESCRIPTION&quot; file in the folder) and of the documentation file (&quot;.Rd&quot; files in the subdirectory &quot;man&quot;) each function has to be edited. These files can be edited using a simple text editor but have to be written in a Latex language. Yet, a template has been automatically generated for each file. So, most of the time, the only thing you have to do is to fill the different sections. Specific Latex code is only necessary, for instance, if you want to write mathematical expressions or special characters. Details on how to write such expressions can be found <a href="http://r-pkgs.had.co.nz/man.html">here</a>. For other specific inquiries, Google it using the keywords &quot;R documentation&quot;.</p>

<h3 id="step-3">Step 3</h3>

<p>Once all the description and documentation files have been completed, open a terminal window and <code>cd</code> to your <code>R</code> working directory containing your package folder. In the terminal, then enter the following command to check the package:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&gt; R CMD check name_of_your_package
</code></pre></div>
<p>In addition to check you package, this will generate a new folder called &quot;name_of_your_package.Rcheck&quot; that will contain a pdf manual automatically generated and based on your description and documentation files.</p>

<h3 id="step-4">Step 4</h3>

<p>The last step after checking is to build your package package. In your terminal window enter the following command to build the package:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&gt; R CMD build name_of_your_package
</code></pre></div>
<p>This will generate the archive file of your package. To check your compiled package in <code>R</code>, you can directly install it from this source file using the command:</p>
<div class="highlight"><pre><code class="language-R" data-lang="R">install.packages<span class="p">(</span><span class="s">&quot;name_of_your_package.tar.gz&quot;</span><span class="p">,</span> repos<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> type<span class="o">=</span><span class="s">&quot;source&quot;</span><span class="p">)</span> <span class="c1"># to install the package</span>
<span class="kn">library</span><span class="p">(</span>name_of_your_package<span class="p">)</span> <span class="c1"># to load the package</span>
</code></pre></div>
        </div>
      </div>

      

    

    

    

    

    

    
      
      
    

    

<div class="unit one-fifth hide-on-mobiles">
    <aside>
    <hr class='doc-bar'> </hr>
    Also in <i>Distribution</i>:<br>
    <ul>
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
          <li><a href="http://bes-qsig.github.io/fge/docs/how_to_build_a_python_package/">How to build a Python package</a></li>
        
      
        
        
          <li><a href="http://bes-qsig.github.io/fge/docs/how_to_build_an_r_package/">How to build an R package</a></li>
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
    </ul>
    <hr class='doc-bar'> </hr>
    </aside>
</div>


  </div>

  </section>

      </div>
    </div>

    <!--<footer class="site-footer">

</footer>
-->
    <!-- Google analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-64066157-1', 'auto');
  ga('send', 'pageview');

</script>


  </body>

</html>
